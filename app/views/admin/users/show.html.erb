<h1><%= t(".title") %></h1>

<p>
  <strong><%= t("activerecord.attributes.user.name") %></strong>
  <%= @user.name %>
</p>

<p>
  <strong><%= t("activerecord.attributes.user.email") %></strong>
  <%= @user.email %>
</p>

<p>
  <strong><%= t("activerecord.attributes.user.admin") %></strong>
  <%= t("enums.user.admin.#{@user.admin}") %>
</p>

<div id="tasks-table-area">
  <div id="tasks-area">
    <table id="tasks-table">
      <thead>
        <tr>
          <th><%= t("activerecord.attributes.task.title") %></th>
          <th><%= t("activerecord.attributes.task.content") %></th>
          <th><%= t("activerecord.attributes.common.created_at") %></th>
          <th><%= link_to t("activerecord.attributes.task.deadline_on"), tasks_path(params.permit(:sort_deadline_on, search: [:title, :status]).merge(:sort_deadline_on => true)) %></th>
          <th><%= link_to t("activerecord.attributes.task.priority"), tasks_path(params.permit(:sort_priority, search: [:title, :status]).merge(:sort_priority => true)) %></th>
          <th><%= t("activerecord.attributes.task.status") %></th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @user.tasks.each do |task| %>
          <tr>
            <td class="task-title"><%= task.title %></td>
            <td class="task-content"><%= task.content %></td>
            <td class="task-created-at"><%= l(task.created_at, format: :long ) %></td>
            <td class="task-deadline-on"><%= task.deadline_on %></td>
            <td class="task-priority"><%= t("enums.task.priority.#{task.priority}") %></td>
            <td class="task-status"><%= t("enums.task.status.#{task.status}") %></td>
            <td><%= link_to t('helpers.show'), task, class: "show-task" %></td>
            <td><%= link_to t('helpers.edit'), edit_task_path(task), class: "edit-task" %></td>
            <td><%= link_to t('helpers.destroy'), task, method: :delete, data: { confirm: t('helpers.confirm') }, class: "destroy-task" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>

<%= link_to t("helpers.back"), admin_users_path, id: "back" %>
